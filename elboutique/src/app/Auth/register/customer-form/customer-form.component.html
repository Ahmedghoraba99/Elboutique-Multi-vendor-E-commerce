<form [formGroup]="customerForm" (ngSubmit)="onSubmit()">
  <div class="mb-3">
    <label for="image" class="form-label">Avatar Image</label>
    <input
      type="file"
      (change)="onFileSelected($event, 'image')"
      accept="image/*"
      class="form-control"
      id="image"
      placeholder="Choose avatar image"
    />
    <div
      *ngIf="
        customerForm.controls['image'].invalid &&
        (customerForm.controls['image'].dirty ||
          customerForm.controls['image'].touched)
      "
      class="text-danger"
    >
      avatar is required
    </div>
  </div>
  <div class="row mb-3">
    <div class="col">
      <label for="name" class="form-label"> Name</label>
      <input
        type="text"
        formControlName="name"
        class="form-control"
        id="name"
        placeholder="Enter name"
      />
      <div
        *ngIf="
          customerForm.controls['name'].invalid &&
          (customerForm.controls['name'].dirty ||
            customerForm.controls['name'].touched)
        "
        class="text-danger"
      >
        Please enter a valid name (letters, spaces, commas, periods, single
        quotes, and hyphens)!.
      </div>
    </div>
  </div>

  <div class="row mb-3">
    <div class="col">
      <label for="phone" class="form-label">Phone Number</label>
      <input
        type="text"
        formControlName="phone"
        class="form-control"
        id="phone"
        placeholder="Enter phone number"
      />
      <div
        *ngIf="
          customerForm.controls['phone'].invalid &&
          (customerForm.controls['phone'].dirty ||
            customerForm.controls['phone'].touched)
        "
        class="text-danger"
      >
        Phone number is required it must be an Egyption phone without country
        key
      </div>
    </div>
    <div class="col">
      <label for="email" class="form-label">Email</label>
      <input
        type="email"
        formControlName="email"
        class="form-control"
        id="email"
        placeholder="Enter email"
      />
      <div
        *ngIf="
          customerForm.controls['email'].invalid &&
          (customerForm.controls['email'].dirty ||
            customerForm.controls['email'].touched)
        "
        class="text-danger"
      >
        Valid email is required
      </div>
    </div>
  </div>

   
  <div formGroupName="address">
    <div class="row mb-3">
      <div class="col">
        <label for="governorate" class="form-label">governorate</label>
        <input
          type="text"
          formControlName="governorate"
          class="form-control"
          id="governorate"
          placeholder="Enter governorate"
        />
        <div
          *ngIf="
            customerForm.get('address')?.get('governorate')?.invalid &&
            (customerForm.get('address')?.get('governorate')?.dirty ||
              customerForm.get('address')?.get('governorate')?.touched)
          "
          class="text-danger"
        >
          governorate is required
        </div>
      </div>
      <div class="col">
        <label for="city" class="form-label">City</label>
        <input
          type="text"
          formControlName="city"
          class="form-control"
          id="city"
          placeholder="Enter city"
        />
        <div
          *ngIf="
            customerForm.get('address')?.get('city')?.invalid &&
            (customerForm.get('address')?.get('city')?.dirty ||
              customerForm.get('address')?.get('city')?.touched)
          "
          class="text-danger"
        >
          City is required it must be just letters or letters and numbers
        </div>
      </div>
    </div>
    <div class="row mb-3">
      <div class="col">
        <label for="street" class="form-label">Street</label>
        <input
          type="text"
          formControlName="street"
          class="form-control"
          id="street"
          placeholder="Enter street"
        />
        <div
          *ngIf="
            customerForm.get('address')?.get('street')?.invalid &&
            (customerForm.get('address')?.get('street')?.dirty ||
              customerForm.get('address')?.get('street')?.touched)
          "
          class="text-danger"
        >
          Street is required it must be just letters or letters and numbers
        </div>
      </div>
      <div class="col">
        <label for="houseNumber" class="form-label">House Number</label>
        <input
          type="text"
          formControlName="houseNumber"
          class="form-control"
          id="houseNumber"
          placeholder="Enter house number"
        />
        <div
          *ngIf="
            customerForm.get('address')?.get('houseNumber')?.invalid &&
            (customerForm.get('address')?.get('houseNumber')?.dirty ||
              customerForm.get('address')?.get('houseNumber')?.touched)
          "
          class="text-danger"
        >
          House number is required it must be a Number
        </div>
      </div>
    </div>
  </div>
  

  <div class="row mb-3">
    <div class="col">
      <label for="password" class="form-label">Password</label>
      <input
        type="password"
        formControlName="password"
        class="form-control"
        id="password"
        placeholder="Enter password"
      />
      <div
        *ngIf="
          customerForm.controls['password'].invalid &&
          (customerForm.controls['password'].dirty ||
            customerForm.controls['password'].touched)
        "
        class="text-danger"
      >
        Please enter a valid password Minimum eight characters, at least one
        letter and one number and one special character!.
      </div>
    </div>
    <div class="col">
      <label for="confirmPassword" class="form-label">Confirm Password</label>
      <input
        type="password"
        formControlName="confirmPassword"
        class="form-control"
        id="confirmPassword"
        placeholder="Confirm password"
      />
      <div
        *ngIf="customerForm.errors?.['mismatch'] && (customerForm.controls['confirmPassword'].dirty || customerForm.controls['confirmPassword'].touched)"
        class="text-danger"
      >
        Passwords must match
      </div>
    </div>
  </div>
  <button type="submit" class="btn primary-bg-color">Register</button>
</form>
@if (showToast) {
<app-toast [message]="toastMessage" [title]="toastTitle"></app-toast>
}
